(()=>{"use strict";var e={357:(e,t,n)=>{n.d(t,{Z:()=>p});var o=n(81),r=n.n(o),i=n(645),a=n.n(i),s=n(667),c=n.n(s),l=new URL(n(457),n.b),d=a()(r()),u=c()(l);d.push([e.id,`* {\n    box-sizing: border-box;\n}\nbody {\n    margin: 0 auto;\n    padding: 0;\n    font-family: sans-serif;\n    \n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n}\n.uploadedImage {\n    width: 600px;\n    height: auto;\n    display: none;\n}\n\n.imageContainer {\n    position: relative;\n    width: 600px;\n}\n.imageContainer.noImgProvide {\n    width: 600px;\n    height: 400px;\n\n    background-image: url(${u});\n} \n\n\n.textBlock {\n    position: absolute;\n    top:0;\n    left: 0;\n    cursor: move;\n    color: white;\n    text-shadow: -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black;\n    /* border: 1px dashed #000; */\n    /* background-color: rgba(255, 255, 255, 0.7); */\n    padding: 5px;\n    /* user-drag: none; */\n    user-select: none;\n    font-size: 26px;\n    font-weight: bold;\n    font-family: sans-serif;\n    max-width: 400px;\n    text-align: center;\n}\n\n.textBlock.active {\n    background-color: rgba(0,0,0,0.2);\n}\n\n.controls {\n    display: flex;\n    gap: 20px;\n    align-items: center;\n    margin: 15px\n}\n\n.textFieldInput, .fileInput {\n    margin: 15px;\n    font-size: 16px;\n    line-height: 30px;\n\n}\n\n.inputContainer {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 10px\n}\n\n.memeControls {\n    display: flex;\n    width: 600px;\n    justify-content: space-around;\n\n}\nbutton {\n    padding: 8px;\n    font-size: 16px;\n    border-radius: 5px;\n    border: 0;\n    background-color: rgb(34, 33, 39);\n    color: rgb(212, 211, 218);\n    box-shadow: 0 1px 5px 0px rgb(183 183 183)\n}\nbutton:disabled {\n    opacity: 0.6\n}\n\n#myCanvas {\n    margin-top: 50px;\n    margin-bottom: 50px;\n\n}\n\n.note {\n    width: 600px;\n    font-size: 18px;\n    text-align: center;\n    margin-top: 30px\n}`,""]);const p=d},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(o)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);o&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),t.push(d))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:e=>{e.exports=function(e){return e[1]}},91:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},379:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var i={},a=[],s=0;s<e.length;s++){var c=e[s],l=o.base?c[0]+o.base:c[0],d=i[l]||0,u="".concat(l," ").concat(d);i[l]=d+1;var p=n(u),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var m=r(f,o);o.byIndex=s,t.splice(s,0,{identifier:u,updater:m,references:1})}a.push(u)}return a}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var i=o(e=e||[],r=r||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var c=o(e,r),l=0;l<i.length;l++){var d=n(i[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}i=c}}},569:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},457:e=>{e.exports="data:image/svg+xml,%3csvg width=%27100%25%27 height=%27100%25%27 xmlns=%27http://www.w3.org/2000/svg%27%3e%3crect width=%27100%25%27 height=%27100%25%27 fill=%27none%27 stroke=%27%239A9A9AFF%27 stroke-width=%279%27 stroke-dasharray=%2714%2c 25%27 stroke-dashoffset=%270%27 stroke-linecap=%27square%27/%3e%3c/svg%3e"},829:(e,t,n)=>{e.exports=n.p+"9cd31ea69a2020e198c9.js"}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={id:o,exports:{}};return e[o](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&!e;)e=o[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{var e=n(91),t=n.n(e),o=new URL(n(829),n.b);t()(o);var r=n(379),i=n.n(r),a=n(795),s=n.n(a),c=n(569),l=n.n(c),d=n(565),u=n.n(d),p=n(216),f=n.n(p),m=n(589),g=n.n(m),h=n(357),v={};v.styleTagTransform=g(),v.setAttributes=u(),v.insert=l().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),i()(h.Z,v),h.Z&&h.Z.locals&&h.Z.locals;const y=document.getElementById("imageInput"),x=document.getElementById("uploadedImage"),b=document.getElementById("imageContainer"),w=document.getElementById("clearAll"),E=document.getElementById("save");y.addEventListener("change",(function(){const e=this.files[0];if(e){const t=new FileReader;t.onload=function(e){x.src=e.target.result,x.style.display="block",b.classList.remove("noImgProvide")},t.readAsDataURL(e),w.disabled=!1,E.disabled=!1}}));const I=document.getElementById("addTextField");let C,B,L,k,S=[],T=!1;I.addEventListener("click",(()=>{const e=function(){const e=document.createElement("div"),t=document.getElementById("textFieldText");return e.className="textBlock",e.textContent=t.value?t.value:"Жаль, что не все поймут в чем дело!",e.style.left="10px",e.style.top="10px",e.addEventListener("mousedown",(t=>{T=!0,C=t.clientX-e.getBoundingClientRect().left,B=t.clientY-e.getBoundingClientRect().top,L=e,k=e,S.map((e=>e.classList.remove("active"))),k.classList.add("active"),e.style.zIndex="1"})),e}();k=e,e.classList.add("active"),S.map((e=>e.classList.remove("active"))),S.push(e),b.appendChild(e),1===S.length&&(document.getElementById("fontSize").disabled=!1,document.getElementById("fontColor").disabled=!1,document.getElementById("fontWeight").disabled=!1)})),document.addEventListener("mousemove",(e=>{if(T){const t=e.clientX-C-b.getBoundingClientRect().left,n=e.clientY-B-b.getBoundingClientRect().top;L&&t>=0&&t+L.offsetWidth<=b.offsetWidth&&n>=0&&n+L.offsetHeight<=b.offsetHeight&&(L.style.left=t+"px",L.style.top=n+"px")}})),document.addEventListener("mouseup",(()=>{T=!1,L&&(L.style.zIndex="0",L=null)}));const z=document.getElementById("fontSize"),A=document.getElementById("fontColor"),R=document.getElementById("fontWeight");z.addEventListener("input",(()=>{k&&(k.style.fontSize=z.value+"px")})),A.addEventListener("input",(()=>{k&&(k.style.color=A.value)})),R.addEventListener("change",(()=>{k&&(k.style.fontWeight=R.value)})),document.addEventListener("click",(function(e){const t=[document.getElementById("controls"),...S,document.getElementById("addTextField")];Array.from(t).some((t=>t.contains(e.target)))||k&&(k.classList.remove("active"),k=null)})),document.getElementById("save").addEventListener("click",(()=>{const e=document.getElementById("myCanvas"),t=e.getContext("2d");t.clearRect(0,0,e.width,e.height);var n=new Image;n.src=x.src,n.onload=function(){const o=e.width,r=o/n.width,i=o,a=n.height*r;e.width=i,e.height=a,t.drawImage(n,0,0,i,a),S.map((t=>{const n={fontSize:t.style.fontSize?+t.style.fontSize.slice(0,-2):26,fontWeight:t.style.fontWeight?t.style.fontWeight:"bold",fontColor:t.style.color?t.style.color:"white",left:+t.style.left.slice(0,-2),top:+t.style.top.slice(0,-2)};M(t.innerHTML,n,e)}))}}));const M=(e,t,n)=>{const o=n.getContext("2d"),r=t.fontSize,i=t.fontWeight;o.font=`${i} ${r}px sans-serif`;const a=t.fontColor;o.fillStyle=a;const s=[],c=e.split(" ");let l="",d=350;for(const e of c){const t=0===l.length?e:`${l} ${e}`,n=o.measureText(t).width;n<=350?(l=t,d=n):(s.push(l),l=e)}s.push(l),s.length>1&&(d=350);const u=t.left,p=t.top;o.textAlign="center",s.length,s.length;for(let e=0;e<s.length;e++)o.fillText(s[e],d/2+u+5,p+10+r/2+e*(r+5))};w.addEventListener("click",(()=>{x.style.display="none",b.classList.add("noImgProvide"),S.map((e=>{b.removeChild(e)})),S=[],y.value="";const e=document.getElementById("myCanvas");e.getContext("2d").clearRect(0,0,e.width,e.height),w.disabled=!0,E.disabled=!0,document.getElementById("fontSize").disabled=!0,document.getElementById("fontColor").disabled=!0,document.getElementById("fontWeight").disabled=!0}))})()})();